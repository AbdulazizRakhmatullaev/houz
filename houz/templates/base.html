{% load static %}
{% load notifications %}
{% load i18n %}


<!doctype html>
<html lang="{{ LANGUAGE_CODE }}" style="overflow: auto scroll">

<head>
    <title>Houz / {% block title %}{% endblock %}</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="icon" type="image/x-icon" href="{% static 'icons/houz_h.png' %}" />

    <link rel="stylesheet" href="{% static 'base.css' %}" />
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.css" rel="stylesheet" />
    
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.js"></script>
</head>

<body>
    <div id="spinner" class="spinner-overlay">
        <img src="{% static 'icons/houz_h.png' %}" alt="">
        <div class="spinner"></div>
    </div>
    
    <button onclick="goTopFunction()" id="goTop">
        <svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
            <path d="m13 19c0 .5523-.4477 1-1 1s-1-.4477-1-1v-11.58579l-4.29289 4.29289c-.39053.3905-1.02369.3905-1.41422 0-.39052-.3905-.39052-1.0237 0-1.4142l6.00001-6.00001c.3905-.39052 1.0237-.39052 1.4142 0l6 6.00001c.3905.3905.3905 1.0237 0 1.4142s-1.0237.3905-1.4142 0l-4.2929-4.29289z" fill="currentColor"/>
        </svg>
    </button>
    {% if messages %} {% for message in messages %}
    <div id="toast-position">
        <div class="toast">
            <p>{{ message }}</p>
        </div>
    </div>
    {% endfor %} {% endif %}
    <div id="signinModal" class="modal">
        <div class="modal-content">
            <div class="container">
                <div class="modal-title">
                    Sign in
                    <span onclick="closeSigninModal()" class="close modalclose">&times;</span>
                </div>
                {% include 'temps/signin_temp.html' %}
            </div>
        </div>
    </div>
    <div id="signupModal" class="modal">
        <div class="modal-content">
            <div class="container">
                <div class="modal-title">
                    Sign up
                    <span onclick="closeSignupModal()" class="close modalclose">&times;</span>
                </div>
                {% include 'temps/signup_temp.html' %}
            </div>
        </div>
    </div>
    <nav id="navbar">
        <div id="row">
            <ul class="row-content">
                <li class="row-con-itm">
                    <a href="{% url 'home' %}" class="logo">
                        <img src="{% static 'icons/houz_h.png' %}" alt="">
                    </a>
                </li>
                <li class="row-con-itm">

                </li>
                {% if request.user.is_authenticated %}
                <ul class="row-content">
                    <li class="createroom">
                        <div class="nav-host row-svg" onclick="location.href='/become-a-host';">
                            <svg class="row-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path fill="currentColor" fill-rule="evenodd" d="M12 7a.9.9 0 0 1 .9.9v3.2h3.2a.9.9 0 0 1 .9.9.9.9 0 0 1-.9.9h-3.2v3.2a.9.9 0 0 1-.9.9.9.9 0 0 1-.9-.9v-3.2H7.9A.9.9 0 0 1 7 12a.9.9 0 0 1 .9-.9h3.2V7.9A.9.9 0 0 1 12 7Z" clip-rule="evenodd"/>
                                <path fill="currentColor" fill-rule="evenodd" d="M12 3.9c-4.4735 0-8.1 3.6265-8.1 8.1s3.6265 8.1 8.1 8.1 8.1-3.6265 8.1-8.1-3.6265-8.1-8.1-8.1ZM2.1 12c0-5.4676 4.4324-9.9 9.9-9.9s9.9 4.4324 9.9 9.9-4.4324 9.9-9.9 9.9-9.9-4.4324-9.9-9.9Z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                    </li>
                    <li class="inbox">
                        <div id="inboxDrBtn" class="nav-icn">
                            <svg class="row-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path
                                    d="M12.004 2.1c4.015 0 6.896 3.278 6.896 7.532v1.6c0 .228.193.531.72 1.075l.27.275c1.082 1.097 1.51 1.729 1.51 2.745 0 .445-.052.791-.268 1.206-.456.878-1.423 1.367-2.869 1.367l-1.912.001c-.629 2.332-2.13 3.6-4.351 3.6-2.245 0-3.754-1.295-4.371-3.675l.019.074H5.737c-1.488 0-2.466-.502-2.902-1.41-.191-.398-.235-.72-.235-1.163 0-1.016.428-1.648 1.51-2.745l.27-.275c.527-.544.72-.847.72-1.076v-1.6C5.1 5.38 7.988 2.1 12.004 2.1Zm2.462 15.802H9.534C9.99 19.148 10.776 19.7 12 19.7c1.224 0 2.01-.552 2.466-1.798ZM12.004 3.9C9.036 3.9 6.9 6.327 6.9 9.632v1.6c0 .852-.39 1.463-1.228 2.328-.073.075-.142.146-.281.286-.747.758-.991 1.118-.991 1.481 0 .192.014.292.057.382.107.224.433.391 1.28.391h12.526c.82 0 1.153-.169 1.272-.397.05-.095.065-.197.065-.376 0-.363-.244-.723-.99-1.48-.14-.141-.209-.212-.282-.287-.839-.865-1.228-1.476-1.228-2.329v-1.6c0-3.307-2.13-5.731-5.096-5.731Z" />
                            </svg>
                        </div>
                        <div id="inboxDropdown">
                            {% notifications request %}
                        </div>
                    </li>
                    <li class="row-con-itm" style="">
                        <div id="ppDrBtn" class="nav-icn">
                            {% if request.user.profile.avatar.url != null %}
                            <img src="{{request.user.profile.avatar.url}}" alt="" class="pp" />
                            {% else %}
                            <div class="pp"
                                style="background: linear-gradient({{request.user.profile.avatar_default}});">
                                <div class="grcn">
                                    {{request.user.profile.name|slice:"0:1"}}
                                </div>
                            </div>
                            {% endif %}
                        </div>
                        <div id="ppDropdown">
                            <div class="ppdropmenu">
                                <a href="{% url 'user_profile' request.user.username %}" class="ppdrcol">
                                    <div class="ppdricn">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12 8.8a1.7 1.7 0 1 0 0 3.4 1.7 1.7 0 0 0 0-3.4Zm-3.5 1.7a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0Z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M12 2.1A9.872 9.872 0 0 0 5 5a9.872 9.872 0 0 0-2.9 7c0 2.733 1.11 5.21 2.9 7a9.872 9.872 0 0 0 7 2.9c2.733 0 5.21-1.11 7-2.9a9.872 9.872 0 0 0 2.9-7c0-2.734-1.11-5.21-2.9-7a9.872 9.872 0 0 0-7-2.9Zm4.382 16.713A7.067 7.067 0 0 0 12 17.3a7.066 7.066 0 0 0-4.382 1.513A8.06 8.06 0 0 0 12 20.1a8.06 8.06 0 0 0 4.382-1.287ZM6.272 6.273A8.072 8.072 0 0 1 12 3.9c2.237 0 4.26.906 5.727 2.372A8.072 8.072 0 0 1 20.1 12a8.07 8.07 0 0 1-2.297 5.651A8.868 8.868 0 0 0 12 15.5a8.869 8.869 0 0 0-5.803 2.151A8.07 8.07 0 0 1 3.9 12c0-2.237.906-4.26 2.372-5.728ZM8.5 10.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0ZM12 8.8a1.7 1.7 0 1 0 0 3.4 1.7 1.7 0 0 0 0-3.4Z" clip-rule="evenodd"/></svg>
                                    </div>
                                    <div class="ppdrnm">Profile</div>
                                </a>
                                <a href="{% url 'reservation' %}" class="ppdrcol">
                                    <div class="ppdricn">
                                        <svg class="row-svg" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg">
                                            <g fill="currentColor">
                                                <path
                                                    d="m18.9071 10.2929c.3905.3905.3905 1.0237 0 1.4142l-5.6 5.6c-.3876.3876-1.015.3909-1.4067.0075l-2.59997-2.5455c-.39464-.3864-.40135-1.0195-.01499-1.4141.38636-.3947 1.01946-.4014 1.41416-.015l1.8929 1.8532 4.9004-4.9003c.3905-.39053 1.0237-.39053 1.4142 0z" />
                                                <path clip-rule="evenodd"
                                                    d="m10 2.5c0-.55228-.44771-1-1-1-.55228 0-1 .44772-1 1v.6419c-.45313.07718-.87233.20047-1.26995.40307-.94081.47936-1.70571 1.24427-2.18508 2.18508-.30179.59229-.4276 1.23248-.48715 1.96133-.05784.70788-.05783 1.58203-.05782 2.66582v7.2856c-.00001 1.0838-.00002 1.958.05782 2.6658.05955.7289.18536 1.3691.48715 1.9614.47937.9408 1.24427 1.7057 2.18508 2.185.59229.3018 1.23248.4276 1.96133.4872.70785.0578 1.58192.0578 2.66572.0578h5.2857c1.0838 0 1.958 0 2.6658-.0578.7289-.0596 1.3691-.1854 1.9614-.4872.9408-.4793 1.7057-1.2442 2.185-2.185.3018-.5923.4276-1.2325.4872-1.9614.0578-.7078.0578-1.5819.0578-2.6657v-7.2857c0-1.08376 0-1.95797-.0578-2.66582-.0596-.72885-.1854-1.36904-.4872-1.96133-.4793-.94081-1.2442-1.70572-2.185-2.18508-.3977-.2026-.8169-.32589-1.27-.40307v-.6419c0-.55228-.4477-1-1-1s-1 .44772-1 1v.50549c-.4115-.0055-.8625-.00549-1.3572-.00549h-1.6428v-.5c0-.55228-.4477-1-1-1s-1 .44772-1 1v.5h-1.6428c-.4947 0-.9457-.00001-1.3572.00549zm8 2.5057c-.4015-.00553-.8622-.0057-1.4-.0057h-1.6v.5c0 .55228-.4477 1-1 1s-1-.44772-1-1v-.5h-1.6c-.5378 0-.9985.00017-1.4.0057v.4943c0 .55228-.44771 1-1 1-.55228 0-1-.44772-1-1v-.31225c-.1409.03983-.25801.08626-.36197.13923-.56449.28762-1.02343.74656-1.31105 1.31105-.13419.26335-.22636.61104-.2758 1.21621-.0504.61684-.05118 1.40916-.05118 2.54576v7.2c0 1.1366.00078 1.9289.05118 2.5458.04944.6051.14161.9528.2758 1.2162.28762.5645.74656 1.0234 1.31105 1.311.26335.1342.61104.2264 1.21621.2758.61684.0504 1.40916.0512 2.54576.0512h5.2c1.1366 0 1.9289-.0008 2.5458-.0512.6051-.0494.9528-.1416 1.2162-.2758.5645-.2876 1.0234-.7465 1.311-1.311.1342-.2634.2264-.6111.2758-1.2162.0504-.6169.0512-1.4092.0512-2.5458v-7.2c0-1.13661-.0008-1.92892-.0512-2.54576-.0494-.60517-.1416-.95286-.2758-1.21621-.2876-.56449-.7465-1.02343-1.311-1.31105-.104-.05297-.2211-.0994-.362-.13923v.31225c0 .55228-.4477 1-1 1s-1-.44772-1-1z"
                                                    fill-rule="evenodd" />
                                            </g>
                                        </svg >
                                    </div>
                                    <div class="ppdrnm">Reservations</div>
                                </a>
                                <div href="" class="ppdrcol" style="justify-content: space-between;">
                                    <div class="ppdrInN">
                                        <div class="ppdricn">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" viewBox="0 0 28 28"><path fill-rule="evenodd" d="M7.759 5.5H20.24c.805 0 1.47 0 2.01.044.563.046 1.08.145 1.565.392a4 4 0 0 1 1.748 1.748c.247.485.346 1.002.392 1.564.044.541.044 1.206.044 2.01v5.483c0 .805 0 1.47-.044 2.01-.046.563-.145 1.08-.392 1.565a4 4 0 0 1-1.748 1.748c-.485.247-1.002.346-1.564.392-.541.044-1.206.044-2.01.044H7.758c-.805 0-1.47 0-2.01-.044-.563-.046-1.08-.145-1.565-.392a4 4 0 0 1-1.748-1.748c-.247-.485-.346-1.002-.392-1.564C2 18.21 2 17.546 2 16.742v-5.483c0-.805 0-1.47.044-2.01.046-.563.145-1.08.392-1.565a4 4 0 0 1 1.748-1.748c.485-.247 1.002-.346 1.564-.392C6.29 5.5 6.954 5.5 7.758 5.5ZM5.91 7.538c-.438.035-.663.1-.819.18a2 2 0 0 0-.874.874c-.08.156-.145.38-.18.819C4 9.861 4 10.443 4 11.3v5.4c0 .857 0 1.439.038 1.889.035.438.1.663.18.819a2 2 0 0 0 .874.874c.156.08.38.145.819.18.45.037 1.032.038 1.889.038H9V17a3 3 0 1 1 0-6V7.5H7.8c-.857 0-1.439 0-1.889.038ZM17 20.5h-6v-13h6v13Zm2 0h1.2c.857 0 1.439 0 1.889-.038.438-.035.663-.1.819-.18a2 2 0 0 0 .874-.874c.08-.156.145-.38.18-.819.037-.45.038-1.032.038-1.889v-5.4c0-.857 0-1.439-.038-1.889-.035-.438-.1-.663-.18-.819a2 2 0 0 0-.874-.874c-.156-.08-.38-.145-.819-.18-.45-.037-1.032-.038-1.889-.038H19V11a3 3 0 1 1 0 6v3.5Z" clip-rule="evenodd"/></svg>
                                        </div>
                                        <div class="ppdrnm">Currency:</div>
                                    </div>
                                    <div class="ppdrcon">
                                        <form method="GET" action="{% url 'set_currency' %}" class="language-form">
                                            <select name="currency" onchange="this.form.submit()" class="lngsel">
                                                <option value="UZS" {% if request.currency == 'UZS' %}selected{% endif %}>UZS</option>
                                                <option value="USD" {% if request.currency == 'USD' %}selected{% endif %}>USD</option>
                                                <option value="RUB" {% if request.currency == 'RUB' %}selected{% endif %}>RUB</option>
                                                <option value="GBP" {% if request.currency == 'GBP' %}selected{% endif %}>GBP</option>
                                                <option value="JPY" {% if request.currency == 'JPY' %}selected{% endif %}>JPY</option>
                                                <option value="CHF" {% if request.currency == 'CHF' %}selected{% endif %}>CHF</option>
                                                <option value="CNY" {% if request.currency == 'CNY' %}selected{% endif %}>CNY</option>
                                            </select>
                                        </form>
                                    </div>
                                </div>
                                <div href="" class="ppdrcol" style="justify-content: space-between;">
                                    <div class="ppdrInN">
                                        <div class="ppdricn">
                                            <svg id="lngbtn" class="row-svg" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                                <!-- SVG content here -->
                                                <g id="Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                    <g id="globe_24">
                                                        <polygon id="Bounds" points="0 0 24 0 24 24 0 24"></polygon>
                                                        <path d="M14.3139017,9.5 L9.76986204,9.5 C9.59398792,10.4564417 9.5,11.4612378 9.5,12.5 C9.5,13.1826997 9.54059749,13.8507278 9.61835697,14.5 L14.3139017,14.5 C14.4356838,13.6953397 14.5,12.8592914 14.5,12 C14.5,11.1407086 14.4356838,10.3046603 14.3139017,9.5 Z M15.828868,9.5 C15.941236,10.3101606 16,11.1458159 16,12 C16,12.8541841 15.941236,13.6898394 15.828868,14.5 L20.1264018,14.5 C20.3692775,13.709578 20.5,12.8700549 20.5,12 C20.5,11.1299451 20.3692775,10.290422 20.1264018,9.5 L15.828868,9.5 Z M11.9787868,20.4999741 C12.8743955,19.2484901 13.5784582,17.7173329 14.0123348,16 L9.8701737,16 C10.2381057,17.6910752 10.8647268,19.2171111 11.679348,20.4940636 C11.7787343,20.4977496 11.8785567,20.4997292 11.9787868,20.4999741 Z M13.8941081,20.2881873 C16.323929,19.7352123 18.3578489,18.1411601 19.5018987,16 L15.5537509,16 C15.1931202,17.5715502 14.6255781,19.0202886 13.8941081,20.2881873 Z M13.8941081,3.71181266 C14.6255781,4.97971137 15.1931202,6.42844979 15.5537509,8 L19.5018987,8 C18.3578489,5.85883989 16.323929,4.26478773 13.8941081,3.71181266 Z M14.0123348,8 C13.611081,6.41179201 12.9787439,4.98281555 12.1775251,3.78702389 C11.297434,4.95651582 10.5894785,6.38836004 10.1230965,8 L14.0123348,8 Z M8.24779603,9.5 L3.87359822,9.5 C3.63072245,10.290422 3.5,11.1299451 3.5,12 C3.5,12.8700549 3.63072245,13.709578 3.87359822,14.5 L8.10898255,14.5 C8.0371936,13.8473992 8,13.1795634 8,12.5 C8,11.4689181 8.08562382,10.4648341 8.24779603,9.5 Z M9.79014964,20.2099028 C9.13825906,18.9471579 8.64213019,17.5269419 8.33935209,16 L4.49810129,16 C5.59223541,18.0477398 7.50028235,19.5950716 9.79014964,20.2099028 Z M10.4546882,3.64012814 C7.87125626,4.11462111 5.69648108,5.75715794 4.49810129,8 L8.56901903,8 C8.99233147,6.38315756 9.63732117,4.90768197 10.4546882,3.64012814 Z M12,22 C6.4771525,22 2,17.5228475 2,12 C2,6.4771525 6.4771525,2 12,2 C17.5228475,2 22,6.4771525 22,12 C22,17.5228475 17.5228475,22 12,22 Z" id="Mask" fill="currentColor" fill-rule="nonzero"></path>
                                                    </g>
                                                </g>
                                            </svg>
                                        </div>
                                        <div class="ppdrnm">Language:</div>
                                    </div>
                                    <div class="ppdrcon">
                                        <form action="{% url 'set_language' %}" method="get" class="language-form">
                                            <select name="language" onchange="this.form.submit()" class="lngsel">
                                                <option value="en" {% if LANGUAGE_CODE == 'en' %}selected{% endif %}>{% trans "English" %}</option>
                                                <option value="ru" {% if LANGUAGE_CODE == 'ru' %}selected{% endif %}>{% trans "Russian" %}</option>
                                                <option value="uz" {% if LANGUAGE_CODE == 'uz' %}selected{% endif %}>{% trans "Uzbek" %}</option>
                                            </select>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
                {% else %}
                <li class="row-con-itm">
                    <div onclick="openSigninModal()">Sign in</div>
                </li>
                {% endif %}
            </ul>
        </div>
    </nav>
    {% if request.path == "/" %}
    <!-- <div id="secnav">
        <div id="row">
            <ul class="row-content">
                <li class="row-con-itm">
                    <form action="{% url 'search' %}" class="search-form">
                        {% csrf_token %}
                        <input type="text" name="search" class="search-inp" placeholder="Search" autocomplete="off" />
                    </form>
                </li>
            </ul>
        </div>
    </div> -->

    {% endif %}
    <main id="main">
        <div class="main-content">
            {% block content %}

            {% endblock %}
        </div>
    </main>
    <footer id="footer">
        <div id="footer-row">
            <!-- <div class="by">Developed by Rakmatullaev.</div>
            {% block footer }
            {% endblock } -->
            <div class="foot-txt">
                Feel free to
                <a class="underline" style="color: #06c" href="mailto:rakhmatullaevabdulaziz@gmail.com">contact me</a>, if you have any
                questions.
            </div>
            <div class="hr"></div>
            <div class="footer-flex">
                <div class="foot-txt">
                    Copyright ©2024 houz. All rights reserved.
                </div>
                <div class="footer-flex">
                    <div class="foot-txt">
                        <a href="{% url 'tou' %}" class="underline">
                            Terms of Use
                        </a>
                    </div>
                    <div class="spr">|</div>
                    <div class="foot-txt">
                        <a href="https://en.wikipedia.org/wiki/Uzbekistan" class="underline">
                            Uzbekistan
                        </a>
                    </div>
                </div>
            </div>
            <div class="foot-itms">
                <div class="foot-txt">Developed by <a class="underline" style="color: #06c"
                        href="https://www.linkedin.com/in/abdulaziz-rakhmatullaev/">Rakhmatullaev Abdulaziz</a></div>
            </div>
        </div>
    </footer>
    <div id="iStatus"></div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- jQuery UI -->
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <!-- Other -->
    <script>
      document.addEventListener("DOMContentLoaded", function() {
          var spinner = document.getElementById("spinner");
          spinner.style.display = "none";
      });
      
      window.addEventListener("beforeunload", function() {
          var spinner = document.getElementById("spinner");
          spinner.style.display = "flex";
      });
    </script>

    <script src="{% static 'autoNumeric.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'websocket.js' %}"></script>
    <!--  -->

    {% block scripts %}
    {% endblock %}
    <script>
        const $ppDrpMenu = $("[id=ppDropdown]");

        const onPpMouseUp = (e) => {
            if (
                !$ppDrpMenu.is(e.target) &&
                $ppDrpMenu.has(e.target).length === 0
            ) {
                $ppDrpMenu.removeClass("active");
                $(document).off("mouseup", onPpMouseUp);
            }
        };

        $("#ppDrBtn").on("click", () => {
            $ppDrpMenu.toggleClass("active");
            if ($ppDrpMenu.hasClass("active")) {
                $(document).on("mouseup", onPpMouseUp);
            }
        });
    </script>
    <script>
        // Function to check the internet connection status
        function checkInternetStatus() {
            return window.navigator.onLine;
        }

        function setConnStat(msg, bg, clr) {
            const iStatus = document.getElementById("iStatus");
            iStatus.style.display = "block";
            iStatus.textContent = msg;
            iStatus.style.background = bg;
            iStatus.style.color = clr;
        }

        // Function to hide the online message after 3 seconds
        function hideMessageAfterTimeout() {
            setTimeout(() => {
                const iStatus = document.getElementById("iStatus");
                iStatus.classList.add("timeout");
                setTimeout(() => {
                    iStatus.style.display = "none";
                }, 500);
            }, 3000);
        }

        // Track the previous connection state
        let wasOffline = !checkInternetStatus();

        // Initial check for online status
        if (wasOffline) {
            setConnStat("No internet connection", "#1d1d1f", "#fff");
        }

        // Event listeners for online/offline status changes
        window.addEventListener('online', () => {
            if (wasOffline) {
                setConnStat("You are back online", "#08c708", "#fff");
                hideMessageAfterTimeout();
            }
            wasOffline = false; // Update the status to online
        });

        window.addEventListener('offline', () => {
            setConnStat("No internet connection", "#1d1d1f", "#fff");
            wasOffline = true; // Update the status to offline
        });
    </script>
    <script>
        // Get the button
        let topBtn = document.getElementById("goTop");

        // When the user scrolls down 20px from the top of the document, show the button
        window.onscroll = function() {scrollFunction()};

        // Call scrollFunction on page load to check initial scroll position
        window.onload = function() {scrollFunction()};

        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                topBtn.classList.add("show");
            } else {
                topBtn.classList.remove("show");
            }
        }

        // When the user clicks on the button, scroll to the top of the document with smooth animation
        function goTopFunction() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
    <script>
        $(document).ready(function () {
            $('#guests_minus').click(function () {
                var $input = $(this).parent().find('input');
                var count = parseInt($input.val()) - 1;
                count = count < 1 ? 1 : count;
                $input.val(count);
                $input.change();
                return false;
            });
            $('#guests_plus').click(function () {
                var $input = $(this).parent().find('input');
                var count = parseInt($input.val()) + 1;
                count = count > 99 ? 99 : count;
                $input.val(count);
                $input.change();
                return false;
            });

            $('#beds_minus').click(function () {
                var $input = $(this).parent().find('input');
                var count = parseInt($input.val()) - 1;
                count = count < 1 ? 1 : count;
                $input.val(count);
                $input.change();
                return false;
            });
            $('#beds_plus').click(function () {
                var $input = $(this).parent().find('input');
                var count = parseInt($input.val()) + 1;
                count = count > 99 ? 99 : count;
                $input.val(count);
                $input.change();
                return false;
            });

            $('#bedrooms_minus').click(function () {
                var $input = $(this).parent().find('input');
                var count = parseInt($input.val()) - 1;
                count = count < 1 ? 1 : count;
                $input.val(count);
                $input.change();
                return false;
            });
            $('#bedrooms_plus').click(function () {
                var $input = $(this).parent().find('input');
                var count = parseInt($input.val()) + 1;
                count = count > 99 ? 99 : count;
                $input.val(count);
                $input.change();
                return false;
            });

            $('#baths_minus').click(function () {
                var $input = $(this).parent().find('input');
                var count = parseInt($input.val()) - 1;
                count = count < 1 ? 1 : count;
                $input.val(count);
                $input.change();
                return false;
            });
            $('#baths_plus').click(function () {
                var $input = $(this).parent().find('input');
                var count = parseInt($input.val()) + 1;
                count = count > 99 ? 99 : count;
                $input.val(count);
                $input.change();
                return false;
            });
        });
    </script>
    <script>
        function confirmReq() {
            return confirm('You sure?');
        }
    </script>
    <!-- <script>
        $(document).ready(function () {
            $('.roomUrl').click(function () {
                // Get the URL to redirect to from data attribute
                var redirectUrl = $(this).data('url');
                // Change the URL without reloading the page
                window.history.pushState({}, '', redirectUrl);
                // Fetch and replace content dynamically
                $.get(redirectUrl, function (data) {
                    $('body').html(data);
                });
            });
        });
    </script> -->
    <script>
        // Assuming you're using the default User model
        const currentUser = "{{ request.user.username }}";
    </script>
    <script>
        const signin_password = document.getElementById("signin-password");
        const toggleSigninPassword = document.getElementById(
            "toggle-signin-password",
        );

        toggleSigninPassword.addEventListener("click", toggleClicked);
        function toggleClicked() {
            if (this.checked) {
                signin_password.type = "text";
            } else {
                signin_password.type = "password";
            }
        }
    </script>
    <script>
        const $dropdownMenu = $("[id=inboxDropdown]");

        const onDocumentMouseUp = (e) => {
            if (
                !$dropdownMenu.is(e.target) &&
                $dropdownMenu.has(e.target).length === 0
            ) {
                $dropdownMenu.removeClass("active");
                $(document).off("mouseup", onDocumentMouseUp);
            }
        };

        $("#inboxDrBtn").on("click", () => {
            $dropdownMenu.toggleClass("active");
            if ($dropdownMenu.hasClass("active")) {
                $(document).on("mouseup", onDocumentMouseUp);
            }
        });
    </script>
    <script>
        const password = document.getElementById("signup-password");
        const password2 = document.getElementById("confirm");
        const togglePassword = document.getElementById(
            "toggle-signup-password",
        );

        togglePassword.addEventListener("click", toggleClicked);
        function toggleClicked() {
            if (this.checked) {
                password.type = "text";
                password2.type = "text";
            } else {
                password.type = "password";
                password2.type = "password";
            }
        }
    </script>
    <script>
        const signinModal = document.getElementById("signinModal");
        const signupModal = document.getElementById("signupModal");

        // signin
        function openSigninModal() {
            signinModal.classList.add("show");
            signupModal.classList.remove("show");
        }
        function closeSigninModal() {
            signinModal.classList.remove("show");
        }
        // signup
        function openSignupModal() {
            signinModal.classList.remove("show");
            signupModal.classList.add("show");
        }
        function closeSignupModal() {
            signupModal.classList.remove("show");
        }
        window.onclick = function (event) {
            if (event.target == signinModal) {
                signinModal.classList.remove("show");
            } else if (event.target == signupModal) {
                signupModal.classList.remove("show");
            }
        };
    </script>
    <script>
        $(document).ready(function () {
            $("#toast-position").toggleClass("active");

            setTimeout(function () {
                $("#toast-position").toggleClass("timeout");
                $("#toast-position").fadeOut("fast");
            }, 3000);
        });
    </script>
</body>

</html>
